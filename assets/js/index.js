!function(){"use strict";new Vue({el:"#app",components:{icon:{template:'<svg><use :xlink:href="use"/></svg>',props:["use"]}},data:function(){return{modal:!1,companies:[],dropdown:{height:0},rating:{min:10,max:0},filters:{countries:{},categories:{},rating:0},menus:{countries:!1,categories:!1,rating:!1}}},computed:{activeMenu:function(){var t=this;return Object.keys(this.menus).reduce(function(e,n,i){return t.menus[n]?i:e},-1)},list:function(){var t=this,e=this.activeFilters,n=e.countries,i=e.categories;return this.companies.filter(function(e){var r=e.country,s=e.keywords;return!(e.rating<t.filters.rating)&&(!(n.length&&!~n.indexOf(r))&&(!i.length||i.every(function(t){return~s.indexOf(t)})))})},activeFilters:function(){var t=this.filters,e=t.countries,n=t.categories;return{countries:Object.keys(e).filter(function(t){return e[t]}),categories:Object.keys(n).filter(function(t){return n[t]}),rating:this.filters.rating>this.rating.min?[this.filters.rating]:[]}}},watch:{activeMenu:function(t,e){var n=this;t!==e&&this.$nextTick(function(){n.$refs.menu&&n.$refs.menu[t]?n.dropdown.height=n.$refs.menu[t].clientHeight+16+"px":n.dropdown.height=0})}},methods:{setFilter:function(t,e){var n=this;"countries"===t?this.filters[t][e]=!this.filters[t][e]:setTimeout(function(){n.clearFilter(t,e,n.filters[t][e])},100)},clearFilter:function(t,e,n){var i=this;"rating"===t?this.filters[t]=this.rating.min:Object.keys(this.filters[t]).forEach(function(r){i.filters[t][r]=e===r&&!n})},clearAllFilters:function(){Object.keys(this.filters).forEach(this.clearFilter)},setMenu:function(t,e){var n=this;Object.keys(this.menus).forEach(function(i){n.menus[i]=!e&&i===t})}},beforeMount:function(){var t=this;fetch("../data.json").then(function(t){return t.json()}).then(function(e){t.companies=e,e.forEach(function(e){var n=e.country,i=e.keywords,r=e.rating;t.$set(t.filters.countries,n,!1),t.rating.max<r&&(t.rating.max=r),t.rating.min>r&&(t.rating.min=r,t.filters.rating=r),i.forEach(function(e){t.$set(t.filters.categories,e,!1)})})})}}),fetch("https://s3-us-west-2.amazonaws.com/s.cdpn.io/450744/mock-logos.svg").then(function(t){return t.text()}).then(function(t){var e=document.createElement("figure");e.style.display="none",e.innerHTML=t,document.body.insertBefore(e,document.body.children[0])})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMvaW5kZXguanMiXSwibmFtZXMiOlsiVnVlIiwidGVtcGxhdGUiLCJwcm9wcyIsImhlaWdodCIsIm1pbiIsIm1heCIsImNvdW50cmllcyIsImNhdGVnb3JpZXMiLCJyYXRpbmciLCJPYmplY3QiLCJrZXlzIiwidGhpcyIsIm1lbnVzIiwicmVkdWNlIiwiJCQiLCJzZXQiLCJpIiwiX3RoaXMiLCJhY3RpdmVGaWx0ZXJzIiwiX2FjdGl2ZUZpbHRlcnMiLCJjb21wYW5pZXMiLCJmaWx0ZXIiLCJfcmVmIiwiY291bnRyeSIsImtleXdvcmRzIiwiZmlsdGVycyIsImluZGV4T2YiLCJsZW5ndGgiLCJldmVyeSIsImNhdCIsIl9maWx0ZXJzIiwiYyIsImluZGV4IiwiZnJvbSIsIiRuZXh0VGljayIsIl90aGlzMyIsIiRyZWZzIiwibWVudSIsImRyb3Bkb3duIiwiY2xpZW50SGVpZ2h0Iiwib3B0aW9uIiwiY2xlYXJGaWx0ZXIiLCJfdGhpczQiLCJleGNlcHQiLCJhY3RpdmUiLCJmb3JFYWNoIiwidGFiIiwidGhlbiIsInJlc3BvbnNlIiwianNvbiIsIl9yZWYyIiwiJHNldCIsIl90aGlzNyIsImNhdGVnb3J5IiwiZmV0Y2giLCJzcHJpdGUiLCJmaWd1cmUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzdHlsZSIsImRpc3BsYXkiLCJpbm5lckhUTUwiLCJib2R5IiwiaW5zZXJ0QmVmb3JlIiwiY2hpbGRyZW4iXSwibWFwcGluZ3MiOiJ5QkFBQSxJQUFJQSxRQUNFLHlCQURFQyxTQUFBLHNDQUFBQyxPQUFBLGNBQUEseUJBQUEseUJBTUdDLE9BQUEsV0FDRUMsSUFERixHQUFBQyxJQUFBLFlBRU1DLGFBRk5DLGNBQUFDLE9BQUEsVUFNSUYsV0FIVyxFQUhmQyxZQUFBLEVBQUFDLFFBQUEsMEJBU0MsNkJBZkpDLE9BQUFDLEtBQUFDLEtBQUFDLE9BQUFDLE9BQUEsU0FBQUMsRUFBQUMsRUFBQUMsVUFBQUMsRUFBQUwsTUFBQUcsR0FBQUMsRUFBQUYsSUFBQSxTQWVJLHdCQUNLSCxLQUFBTyxjQUlMWixFQUREYSxFQUNDYixVQUxBQyxFQUlEWSxFQUpDWixrQkFPQ0ksS0FBS1MsVUFBVUMsT0FBTyxTQUFBQyxPQUFHQyxFQUFnQ0QsRUFBaENDLFFBQVNDLEVBQXVCRixFQUF2QkUsaUJBQXVCRixFQUFiZCxPQUxyQ0UsRUFBS2UsUUFBS2IsWUFPbEJOLEVBUHNETSxVQUFjSSxFQUFwQ1UsUUFBQUgsT0FBdENoQixFQUFBb0IsUUFBQXBCLEVBQUFxQixNQUFBLFNBQUFDLFVBQUFMLEVBQUFFLFFBQUFHLHdCQUZNLGlCQWMwQmxCLEtBQUtjLFFBQS9CbkIsRUFEUXdCLEVBQ1J4QixVQUFXQyxFQURIdUIsRUFDR3ZCLDRCQVRBQSxPQURaRyxLQUFBSixHQUNZQyxPQURaLFNBQUF3QixVQUFBekIsRUFBQXlCLGdCQWNTdEIsT0FBT0MsS0FBS0gsR0FBWWMsT0FBTyxTQUFBVSxVQUFLeEIsRUFBV3dCLFlBQ2xEcEIsS0FBS2MsUUFBUWpCLE9BQVNHLEtBQUtILE9BQU9KLEtBQVFPLEtBQUtjLFFBQVFqQixnQ0FJL0QsU0FDTXdCLEVBQU9DLGNBQ1pELElBakJFeEIsUUFtQkQwQixVQWpCSzNCLFdBa0JINEIsRUFsQmlEWCxNQUFBQSxNQUFTRSxFQUFUVSxNQUFSQyxLQUFBTCxLQVYxQ00sU0FBQW5DLE9BQUFnQyxFQUFBQyxNQUFBQyxLQUFBTCxHQUFBTyxhQUFBLEdBQUEsT0FVSkQsU0FBQW5DLE9BQUEseUJBMEJHLFNBQ0drQixFQUFRbUIsY0FyQlQsY0FzQkhuQixPQUNHSSxRQXRCTWhCLEdBQU9DLElBQVBDLEtBQXVCVSxRQUFPQSxHQUFBbUIsY0FEcEMsYUEwQkVDLFlBeEJZL0IsRUFBS0gsRUFBWm1DLEVBQXdCckIsUUFBT0EsR0FBQW1CLEtBeUJ4QyxrQkFQQSxTQXBCTG5CLEVBQUFzQixFQUFBQyxjQStCZSxXQUFYdkIsT0E5REZJLFFBQUFKLEdBQUFWLEtBQUFILE9BQUFKLFdBc0NDTSxLQUFBQyxLQUFBYyxRQUFBSixJQUFBd0IsUUFDbUIsU0FBQUwsS0EyQmJmLFFBQVFKLEdBQVFtQixHQUFVRyxJQUFXSCxJQUFXSSxxQkFmcEQsa0JBUkVsQyxLQUFBQyxLQUFLeUIsU0FBTlMsUUFBcUJsQyxLQUFLeUIsc0JBUTNCLFNBUkhDLEVBRU9PLHFCQTZCRmxDLEtBNUJFNEIsS0FBQUEsT0FBU25DLFFBQVksU0FBQTJDLEtBNkJ2QmxDLE1BQU1rQyxJQUFRRixHQUFVRSxJQUFRVCxrQkEzRXJDLDRCQWdGRSxnQkFDSFUsS0FBSyxTQUFBQyxVQUFZQSxFQUFTQyxTQUMxQkYsS0FBSyxTQUFBM0IsS0E3QkZDLFVBQVdELElBRVJ5QixRQUFBLFNBQUFLLE9BQUEzQixFQUFBMkIsRUFBQTNCLFFBQUFDLEVBQUEwQixFQUFBMUIsU0FBQWhCLEVBQUEwQyxFQUFBMUMsU0ErQkUyQyxLQTlCSUMsRUFBQTNCLFFBQU1uQixVQUFBaUIsR0FBQSxHQUFqQjZCLEVBQUE1QyxPQUFBSCxJQUFBRyxJQUFBNEMsRUFBQTVDLE9BQUFILElBQUFHLEdBaUNNNEMsRUFBSzVDLE9BQU9KLElBQU1JLE1BdENyQkEsT0FBQUosSUFBQUksSUFBQWlCLFFBQUFqQixPQUFBQSxLQVdEYSxRQUFXLFNBQUFnQyxLQUNSNUIsS0FBUUosRUFBYkksUUFBdUJsQixXQUF2QjhDLEdBQUEsWUF1Q1JDLE1BQU0sc0VBQ0hQLEtBQUssU0FBQUMsVUFoQ1VBLEVBQUt2QixTQUFTb0IsS0FBUSxTQUFBVSxPQXBCN0JDLEVBQUFDLFNBQUFDLGNBQUEsWUFBQUMsTUFBQUMsUUFBQSxTQXVEQUMsVUFBWU4sV0FDVk8sS0FBS0MsYUFBYVAsRUFBUUMsU0FBU0ssS0FBS0UsU0FBUyIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm5ldyBWdWUoe1xuICBlbDogJyNhcHAnLFxuICBjb21wb25lbnRzOiB7XG4gICAgJ2ljb24nOiB7IHRlbXBsYXRlOiAnPHN2Zz48dXNlIDp4bGluazpocmVmPVwidXNlXCIvPjwvc3ZnPicsIHByb3BzOiBbJ3VzZSddIH1cbiAgfSxcbiAgZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbW9kYWw6IGZhbHNlLFxuICAgICAgY29tcGFuaWVzOiBbXSxcbiAgICAgIGRyb3Bkb3duOiB7IGhlaWdodDogMCB9LFxuICAgICAgcmF0aW5nOiB7IG1pbjogMTAsIG1heDogMCB9LFxuICAgICAgZmlsdGVyczogeyBjb3VudHJpZXM6IHt9LCBjYXRlZ29yaWVzOiB7fSwgcmF0aW5nOiAwIH0sXG4gICAgICBtZW51czogeyBjb3VudHJpZXM6IGZhbHNlLCBjYXRlZ29yaWVzOiBmYWxzZSwgcmF0aW5nOiBmYWxzZSB9XG4gICAgfVxuICB9LFxuICBjb21wdXRlZDoge1xuICAgIGFjdGl2ZU1lbnUoKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5tZW51cykucmVkdWNlKCgkJCwgc2V0LCBpKSA9PiAodGhpcy5tZW51c1tzZXRdKSA/IGkgOiAkJCwgLTEpXG4gICAgfSxcbiAgICBsaXN0KCkge1xuICAgICAgbGV0IHsgY291bnRyaWVzLCBjYXRlZ29yaWVzIH0gPSB0aGlzLmFjdGl2ZUZpbHRlcnNcblxuICAgICAgcmV0dXJuIHRoaXMuY29tcGFuaWVzLmZpbHRlcigoeyBjb3VudHJ5LCBrZXl3b3JkcywgcmF0aW5nIH0pID0+IHtcbiAgICAgICAgaWYgKHJhdGluZyA8IHRoaXMuZmlsdGVycy5yYXRpbmcpIHJldHVybiBmYWxzZVxuICAgICAgICBpZiAoY291bnRyaWVzLmxlbmd0aCAmJiAhfmNvdW50cmllcy5pbmRleE9mKGNvdW50cnkpKSByZXR1cm4gZmFsc2VcbiAgICAgICAgcmV0dXJuICFjYXRlZ29yaWVzLmxlbmd0aCB8fCBjYXRlZ29yaWVzLmV2ZXJ5KGNhdCA9PiB+a2V5d29yZHMuaW5kZXhPZihjYXQpKVxuICAgICAgfSlcbiAgICB9LFxuICAgIGFjdGl2ZUZpbHRlcnMoKSB7XG4gICAgICBsZXQgeyBjb3VudHJpZXMsIGNhdGVnb3JpZXMgfSA9IHRoaXMuZmlsdGVyc1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb3VudHJpZXM6IE9iamVjdC5rZXlzKGNvdW50cmllcykuZmlsdGVyKGMgPT4gY291bnRyaWVzW2NdKSxcbiAgICAgICAgY2F0ZWdvcmllczogT2JqZWN0LmtleXMoY2F0ZWdvcmllcykuZmlsdGVyKGMgPT4gY2F0ZWdvcmllc1tjXSksXG4gICAgICAgIHJhdGluZzogKHRoaXMuZmlsdGVycy5yYXRpbmcgPiB0aGlzLnJhdGluZy5taW4pID8gW3RoaXMuZmlsdGVycy5yYXRpbmddIDogW11cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgYWN0aXZlTWVudShpbmRleCwgZnJvbSkge1xuICAgICAgaWYgKGluZGV4ID09PSBmcm9tKSByZXR1cm47XG5cbiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLiRyZWZzLm1lbnUgfHwgIXRoaXMuJHJlZnMubWVudVtpbmRleF0pIHtcbiAgICAgICAgICB0aGlzLmRyb3Bkb3duLmhlaWdodCA9IDBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmRyb3Bkb3duLmhlaWdodCA9IGAke3RoaXMuJHJlZnMubWVudVtpbmRleF0uY2xpZW50SGVpZ2h0ICsgMTZ9cHhgXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgc2V0RmlsdGVyKGZpbHRlciwgb3B0aW9uKSB7XG4gICAgICBpZiAoZmlsdGVyID09PSAnY291bnRyaWVzJykge1xuICAgICAgICB0aGlzLmZpbHRlcnNbZmlsdGVyXVtvcHRpb25dID0gIXRoaXMuZmlsdGVyc1tmaWx0ZXJdW29wdGlvbl1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuY2xlYXJGaWx0ZXIoZmlsdGVyLCBvcHRpb24sIHRoaXMuZmlsdGVyc1tmaWx0ZXJdW29wdGlvbl0pXG4gICAgICAgIH0sIDEwMClcbiAgICAgIH1cbiAgICB9LFxuICAgIGNsZWFyRmlsdGVyKGZpbHRlciwgZXhjZXB0LCBhY3RpdmUpIHtcbiAgICAgIGlmIChmaWx0ZXIgPT09ICdyYXRpbmcnKSB7XG4gICAgICAgIHRoaXMuZmlsdGVyc1tmaWx0ZXJdID0gdGhpcy5yYXRpbmcubWluXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmZpbHRlcnNbZmlsdGVyXSkuZm9yRWFjaChvcHRpb24gPT4ge1xuICAgICAgICAgIHRoaXMuZmlsdGVyc1tmaWx0ZXJdW29wdGlvbl0gPSBleGNlcHQgPT09IG9wdGlvbiAmJiAhYWN0aXZlXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSxcbiAgICBjbGVhckFsbEZpbHRlcnMoKSB7XG4gICAgICBPYmplY3Qua2V5cyh0aGlzLmZpbHRlcnMpLmZvckVhY2godGhpcy5jbGVhckZpbHRlcilcbiAgICB9LFxuICAgIHNldE1lbnUobWVudSwgYWN0aXZlKSB7XG4gICAgICBPYmplY3Qua2V5cyh0aGlzLm1lbnVzKS5mb3JFYWNoKHRhYiA9PiB7XG4gICAgICAgIHRoaXMubWVudXNbdGFiXSA9ICFhY3RpdmUgJiYgdGFiID09PSBtZW51XG4gICAgICB9KVxuICAgIH1cbiAgfSxcbiAgYmVmb3JlTW91bnQoKSB7XG4gICAgZmV0Y2goJy4uL2RhdGEuanNvbicpXG4gICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgICAudGhlbihjb21wYW5pZXMgPT4ge1xuICAgICAgICB0aGlzLmNvbXBhbmllcyA9IGNvbXBhbmllc1xuXG4gICAgICAgIGNvbXBhbmllcy5mb3JFYWNoKCh7IGNvdW50cnksIGtleXdvcmRzLCByYXRpbmcgfSkgPT4ge1xuICAgICAgICAgIHRoaXMuJHNldCh0aGlzLmZpbHRlcnMuY291bnRyaWVzLCBjb3VudHJ5LCBmYWxzZSlcblxuICAgICAgICAgIGlmICh0aGlzLnJhdGluZy5tYXggPCByYXRpbmcpIHRoaXMucmF0aW5nLm1heCA9IHJhdGluZ1xuICAgICAgICAgIGlmICh0aGlzLnJhdGluZy5taW4gPiByYXRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMucmF0aW5nLm1pbiA9IHJhdGluZ1xuICAgICAgICAgICAgdGhpcy5maWx0ZXJzLnJhdGluZyA9IHJhdGluZ1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGtleXdvcmRzLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xuICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMuZmlsdGVycy5jYXRlZ29yaWVzLCBjYXRlZ29yeSwgZmFsc2UpXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gIH1cbn0pXG4vLyBpbmplY3Qgc3ZnIHNwcml0ZXNoZWV0XG5mZXRjaCgnaHR0cHM6Ly9zMy11cy13ZXN0LTIuYW1hem9uYXdzLmNvbS9zLmNkcG4uaW8vNDUwNzQ0L21vY2stbG9nb3Muc3ZnJylcbiAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UudGV4dCgpKS50aGVuKHNwcml0ZSA9PiB7XG4gICAgbGV0IGZpZ3VyZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ZpZ3VyZScpXG4gICAgZmlndXJlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICBmaWd1cmUuaW5uZXJIVE1MID0gc3ByaXRlXG4gICAgZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUoZmlndXJlLCBkb2N1bWVudC5ib2R5LmNoaWxkcmVuWzBdKVxuICB9KVxuIl19
